你可以按照以下步骤使用GCC或Clang完成作业，研究每个编译阶段的输出。

### 1. **预处理阶段**

   运行以下命令生成预处理后的文件：

```bash
   gcc -E mul.c -o mul.i
```

- **输出文件**：`mul.i`
- **说明**：此文件包含了宏展开和头文件包含后的源代码。可以打开这个文件，观察 `#include <iostream>`是如何被展开的。

### 2. **编译阶段（生成汇编代码）**

   运行以下命令生成汇编代码：

```bash
   gcc -S mul.i -o mul.s
```

- **输出文件**：`mul.s`
- **说明**：这个文件是由源代码生成的汇编代码，可以打开此文件，查看C++代码如何被翻译成汇编指令。

### 3. **汇编阶段（生成目标文件）**

   运行以下命令将汇编代码转换为目标文件：

```bash
   gcc -c mul.s -o mul.o
```

- **输出文件**：`mul.o`
- **说明**：此文件是机器码，无法直接阅读。它会在链接时使用。

### 4. **链接阶段（生成可执行文件）**

   最后，运行以下命令生成最终的可执行文件：

```bash
   gcc mul.o -o mul
```

- **输出文件**：`mul`（在Windows上可能是 `mul.exe`）
- **说明**：此可执行文件包含了所有库和外部引用，现在可以运行这个程序。

### 5. **运行程序**

   使用以下命令运行程序并输入一个数来测试结果：

```bash
   ./mul
```

   输入一个整数，程序将输出对应的阶乘。

### 6. **使用LLVM工具链**

   如果你使用的是LLVM/Clang工具链，步骤类似：

- **预处理**：
  ```bash
  clang -E mul.c -o mul.i
  ```
- **编译（生成LLVM IR）**：
  ```bash
  clang -emit-llvm -S mul.c -o mul.ll
  ```

  这将生成LLVM的中间表示。
- **编译（生成汇编代码）**：
  ```bash
  clang -S mul.ll -o mul.s
  ```
- **汇编**：
  ```bash
  clang -c mul.s -o mul.o
  ```
- **链接并生成可执行文件**：
  ```bash
  clang mul.o -o mul
  ```

### 总结

- 通过这几个步骤，你可以看到每个阶段生成的文件，并观察编译器如何处理源代码。
